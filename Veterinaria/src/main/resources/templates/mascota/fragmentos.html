<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <title>Mascotas</title>
    </head>
    
    
    
    <body>

        <section th:fragment="listarMascotas">
            <div class="container mt-4">
                <h2>Listado de Mascotas</h2>

                <a th:href="@{/mascota/insertar}" class="btn btn-success mb-3">Insertar Mascota</a>

                <table class="table table-bordered table-hover">
                    <thead class="thead-dark">
                        <tr>
                            <th>Nombre Mascota</th>
                            <th>Edad</th>
                            <th>Fecha Nacimiento</th>
                            <th>Peso</th>
                            <th>Raza</th>
                            <th>Color</th>
                            <th>Cliente</th>
                            <th>Estado</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="m : ${mascotas}">
                            <td th:text="${m.nombreMascota}"></td>
                            <td th:text="${m.edad}"></td>
                            <td th:text="${#dates.format(m.fechaNacimiento,'dd/MM/yyyy')}"></td>
                            <td th:text="${m.peso}"></td>
                            <td th:text="${m.descripcionRaza}"></td>
                            <td th:text="${m.descripcionColor}"></td>
                            <td th:text="${m.nombreCliente}"></td>
                            <td th:text="${m.estado}"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        
        
        
        
        
        
        
        
        <section th:fragment="insertarColor">
            <h2>Insertar Color</h2>

            <form action="/color/listado" method="post">
               

                <label>Descripción del Color:</label>
                <input type="text" name="descripcion" required>

                <button type="submit">Insertar</button>
            </form>

            <p th:text="${mensaje}"></p>

        </section>

        <section th:fragment="insertarRaza">
            <h2>Insertar Raza</h2>

            <form action="/raza/listado" method="post">


                <label>Descripción del Raza:</label>
                <input type="text" name="descripcionRaza" required>

                <button type="submit">Insertar</button>
            </form>

            <p th:text="${mensaje}"></p>

        </section>


        <section th:fragment="insertarMascota">
            <div class="container mt-4">
                <h2 class="mb-4">Insertar Mascota</h2>

                <form th:action="@{/mascota/insertar}" method="post">
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label>Nombre Mascota:</label>
                            <input type="text" class="form-control" name="nombreMascota" required>
                        </div>

                        <div class="form-group col-md-6">
                            <label>Edad Mascota:</label>
                            <input type="number" class="form-control" name="edad" required>
                        </div>

                        <div class="form-group col-md-6">
                            <label>Peso Mascota:</label>
                            <input type="number" placeholder="Peso en kg" class="form-control" name="peso" required>
                        </div>
                        
                        

                        <div class="form-group col-md-6">
                            <label>Fecha Nacimiento Mascota:</label>
                            <input type="date" class="form-control" name="fechaNacimiento" required>
                        </div>

                        <div class="form-group col-md-6">
                            <label>Raza Mascota:</label>
                            <select name="idRaza" class="form-control" required>
                                <option value="">Seleccione una raza</option>
                                <option th:each="r : ${razas}" 
                                        th:value="${r.idRaza}" 
                                        th:text="${r.descripcionRaza}">
                                </option>
                            </select>
                        </div>
                        
                        <!-- <div class="form-group col-md-6">
                            <label>ID Color Mascota:</label>
                            <input type="number" class="form-control" name="idColor" required>
                        </div> -->
                        
                        
                        <div class="form-group col-md-6">
                            <label>Color Mascota:</label>
                            <select name="idColor" class="form-control" required>
                                <option value="">Seleccione un color</option>
                                <option th:each="c : ${colores}" 
                                        th:value="${c.idColor}" 
                                        th:text="${c.descripcionColor}">
                                </option>
                            </select>
                        </div>
                        
                        
                        <!-- <div class="form-group col-md-6">
                            <label>ID Cliente:</label>
                            <input type="number" class="form-control" name="idCliente" required>
                        </div>
                    </div> -->
                        
                    
                    <div class="form-group col-md-6">
                            <label>Cliente Mascota:</label>
                            <select name="idCliente" class="form-control" required>
                                <option value="">Seleccione un cliente</option>
                                <option th:each="cl : ${clientes}" 
                                        th:value="${cl.idCliente}" 
                                        th:text="${cl.nombreCliente}">
                                </option>
                            </select>
                        </div>

                    <button type="submit" class="btn btn-primary mt-3">Insertar</button>
                    <br/>
                    <div th:if="${mensaje}"
                         th:classappend="${mensaje.contains('error') ? 'alert-danger' : 'alert-success'}"
                         class="alert"
                         role="alert">
                        <span th:text="${mensaje}"></span>
                    </div>



                    </div>
                </form>
            </div>
        </section>



    </body>
</html>


